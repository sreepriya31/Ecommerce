{% extends 'base.html' %}

{% load static %}

{% block title %}
    cart
{% endblock %}

{% block css %}
<link rel="stylesheet" href="{% static 'css/cart.css' %}">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
{% endblock %}

{% block content %}


<h2 class="car">Shopping Cart</h2>
<br>
<div class="tables">
<table class="table" >
    <thead>
      <tr>
        <th scope="col">Product</th>
        <th scope="col">Quantity</th>
        <th scope="col">Price/Unit</th>
        <th scope="col">Action</th>
      </tr>
    </thead>
    
    <tbody>
        {% for item in cart_items %}
      <tr>
        
        <th scope="row">{{ item.product.title }}</th>
        <td>{{ item.quantity }}</td>
        <td>{{ item.product.amount }}</td>
        <td>
            <a href="{% url 'remove_from_cart' item.id %}" class="btn btn-danger">Remove</a>
        </td>
    </tr>
 
    {% endfor %}
       
    </tbody>
  </table></div>
  <div class="content">
  <h4>Total Price to Pay: â‚¹ {{total_price}} /-</h4>
  <button class="pay" id="rzp-button"><a href="/payment/success/dummy">Proceed to pay</a></button>
  </div>

  <!-- <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
  <script>
      var options = {
          "key": "{{ razorpay_key_id }}",
          "amount": "{{ payment.amount }}",
          "currency": "INR",
          "name": "Your Store",
          "description": "Cart Checkout",
          "order_id": "{{ payment.id }}",
          "handler": function (response){
              window.location.href = "{% url 'payment_success' %}";
          },
          "theme": {
              "color": "#3399cc"
          }
      };
      var rzp1 = new Razorpay(options);
      document.getElementById('rzp-button').onclick = function(e){
          rzp1.open();
          e.preventDefault();
      }
  </script> -->



  <br><br><br><br><br><br><br><br>
  
{% endblock %}
